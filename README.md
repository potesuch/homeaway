# Homeaway

Homeaway - это приложение для публикации объектов недвижимости и их бронирования.

## Основные возможности
### Пользователи
- Регистрация и авторизация.
- Чат с владельцем объекта.

### Объекты недвижимости
- Создание объектов.
- Просмотр объектов других пользователей.
- Добавление объектов в избранное.
- Бронирование объектов.

### Категории
- Просмотр и фильтрация объектов по категориям.

### Список бронирований
- Формирование списка бронирований.

## API
Проект предоставляет RESTful API для всех основных функций.

### Примеры API запросов
#### Получение списка объектов

``` http
GET /api/properties/
```

#### Создание нового объектов

``` http
POST /api/properties/
```

#### Добавление объекта в избранное

``` http
POST /api/properties/{id}/toggle_favorite/
```

## Технологии
Проект реализован с использованием следующих технологий:
- **Django**: Фреймворк для разработки веб-приложений на языке Python.
- **Django REST framework**: Мощный инструмент для создания веб-API на основе Django.
- **Djoser**: Библиотека для управления пользователями в Django REST framework.
- **PostgreSQL**: Реляционная база данных, используемая для хранения данных приложения.
- **NGINX**: Веб-сервер и обратный прокси-сервер для обработки HTTP-запросов.
- **Gunicorn**: WSGI HTTP сервер для запуска Python приложений.
- **Django Channels**: Библиотека для обработки WebSocket соединений в Django приложениях.
- **Redis**: Нереляционная система хранения данных в виде структур.
- **Docker**: Платформа для разработки, доставки и запуска приложений в контейнерах.
- **Docker Compose**: Инструмент для определения и запуска многоконтейнерных Docker приложений.

## Установка и запуск
### Клонирование репозитория

``` sh
git clone https://github.com/potesuch/homeaway.git
cd homeaway
```

### Настройка конфигурации
Создайте файл **.env** в папке **infra** и заполните его данными:

``` plaintext
django_secret=<секретный ключ DJANGO>
db_name=<имя БД>
db_host=<хост БД>
db_port=<порт БД>
postgres_user=<имя пользователя для Postgres>
postgres_password=<пароль для Postgres>
redis_host=<хост Redis>
redis_port=<порт Redis>
```

Создайте файл **.env.local** в папке **frontend** и заполните его данными:
``` plaintext
next_public_api_host=<хост API>
next_public_ws_host=<хост WEBSOCKET>
next_public_docker_api_host=<внутренний хост API>
```

### Сборка и запуск контейнеров

Перейдите в папку infra и запустите Docker Compose:

``` sh
cd infra
docker compose up -d --build
```

### Создание суперпользователя

Создайте суперпользователя для доступа к административной панели:

``` sh
docker compose exec backendfoodgram python manage.py createsuperuser
```
